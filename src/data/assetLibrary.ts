// Static asset library for Stars Without Number faction assets
// Based on the official SWN faction rules

import type { AssetDefinition, AssetCategory } from '../types/asset';

// Helper function to parse attack patterns from text descriptions
function parseAttackPattern(text: string | null): {
  attackerAttribute: 'Force' | 'Cunning' | 'Wealth';
  defenderAttribute: 'Force' | 'Cunning' | 'Wealth';
  damage: string;
} | null {
  if (!text || text === 'None') return null;

  // Pattern: "Force vs. Force, 2d6 damage" or "Cunning vs. Wealth, 1d4 damage"
  const match = text.match(/(Force|Cunning|Wealth)\s+vs\.?\s+(Force|Cunning|Wealth)[,\s]+(.+)/i);
  if (match) {
    return {
      attackerAttribute: match[1] as 'Force' | 'Cunning' | 'Wealth',
      defenderAttribute: match[2] as 'Force' | 'Cunning' | 'Wealth',
      damage: match[3].replace('damage', '').trim(),
    };
  }

  // If pattern doesn't match, treat as special
  return {
    attackerAttribute: 'Force',
    defenderAttribute: 'Force',
    damage: text,
  };
}

function parseCounterattack(text: string): { damage: string } | null {
  if (!text || text === 'None') return null;
  return { damage: text.replace('damage', '').trim() };
}

// FORCE ASSETS
const forceAssets: AssetDefinition[] = [
  // Force 1
  {
    id: 'force_1_security_personnel',
    name: 'Security Personnel',
    category: 'Force',
    requiredRating: 1,
    hp: 3,
    cost: 2,
    techLevel: 0,
    type: 'Military Unit',
    attack: parseAttackPattern('Force vs. Force, 1d3+1 damage'),
    counterattack: parseCounterattack('1d4 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: false, requiresPermission: false },
  },
  {
    id: 'force_1_hitmen',
    name: 'Hitmen',
    category: 'Force',
    requiredRating: 1,
    hp: 1,
    cost: 2,
    techLevel: 0,
    type: 'Special Forces',
    attack: parseAttackPattern('Force vs. Cunning, 1d6 damage'),
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: false, requiresPermission: false },
  },
  {
    id: 'force_1_militia_unit',
    name: 'Militia Unit',
    category: 'Force',
    requiredRating: 1,
    hp: 4,
    cost: 4,
    techLevel: 3,
    type: 'Military Unit',
    attack: parseAttackPattern('Force vs. Force, 1d6 damage'),
    counterattack: parseCounterattack('1d4+1 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: false, requiresPermission: true },
  },
  {
    id: 'force_1_gengineered_slaves',
    name: 'Gengineered Slaves',
    category: 'Force',
    requiredRating: 1,
    hp: 4,
    cost: 3,
    techLevel: 3,
    type: 'Military Unit',
    attack: parseAttackPattern('Force vs. Force, 1d6 damage'),
    counterattack: parseCounterattack('1d4 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  // Force 2
  {
    id: 'force_2_heavy_drop_assets',
    name: 'Heavy Drop Assets',
    category: 'Force',
    requiredRating: 2,
    hp: 6,
    cost: 4,
    techLevel: 4,
    type: 'Facility',
    attack: null,
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: false, requiresPermission: false },
  },
  {
    id: 'force_2_elite_skirmishers',
    name: 'Elite Skirmishers',
    category: 'Force',
    requiredRating: 2,
    hp: 5,
    cost: 5,
    techLevel: 4,
    type: 'Military Unit',
    attack: parseAttackPattern('Force vs. Force, 2d4 damage'),
    counterattack: parseCounterattack('1d4+1 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: false, requiresPermission: true },
  },
  {
    id: 'force_2_hardened_personnel',
    name: 'Hardened Personnel',
    category: 'Force',
    requiredRating: 2,
    hp: 4,
    cost: 4,
    techLevel: 3,
    type: 'Special Forces',
    attack: null,
    counterattack: parseCounterattack('1d4+1 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: false, requiresPermission: false },
  },
  {
    id: 'force_2_guerrilla_populace',
    name: 'Guerrilla Populace',
    category: 'Force',
    requiredRating: 2,
    hp: 6,
    cost: 4,
    techLevel: 0,
    type: 'Military Unit',
    attack: parseAttackPattern('Force vs. Cunning, 1d4+1 damage'),
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: false, requiresPermission: false },
  },
  // Force 3
  {
    id: 'force_3_zealots',
    name: 'Zealots',
    category: 'Force',
    requiredRating: 3,
    hp: 4,
    cost: 6,
    techLevel: 0,
    type: 'Special Forces',
    attack: parseAttackPattern('Force vs. Force, 2d6 damage'),
    counterattack: parseCounterattack('2d6 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  {
    id: 'force_3_cunning_trap',
    name: 'Cunning Trap',
    category: 'Force',
    requiredRating: 3,
    hp: 2,
    cost: 5,
    techLevel: 0,
    type: 'Tactic',
    attack: null,
    counterattack: parseCounterattack('1d6+3 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: false, requiresPermission: false },
  },
  {
    id: 'force_3_counterintel_unit',
    name: 'Counterintel Unit',
    category: 'Force',
    requiredRating: 3,
    hp: 4,
    cost: 6,
    techLevel: 4,
    type: 'Special Forces',
    attack: parseAttackPattern('Cunning vs. Cunning, 1d4+1 damage'),
    counterattack: parseCounterattack('1d6 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: false, requiresPermission: false },
  },
  // Force 4
  {
    id: 'force_4_beachhead_landers',
    name: 'Beachhead Landers',
    category: 'Force',
    requiredRating: 4,
    hp: 10,
    cost: 10,
    techLevel: 4,
    type: 'Facility',
    attack: null,
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: false, requiresPermission: false },
  },
  {
    id: 'force_4_extended_theater',
    name: 'Extended Theater',
    category: 'Force',
    requiredRating: 4,
    hp: 10,
    cost: 10,
    techLevel: 4,
    type: 'Facility',
    attack: null,
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: false, requiresPermission: false },
  },
  {
    id: 'force_4_strike_fleet',
    name: 'Strike Fleet',
    category: 'Force',
    requiredRating: 4,
    hp: 8,
    cost: 12,
    techLevel: 4,
    type: 'Starship',
    attack: parseAttackPattern('Force vs. Force, 2d6 damage'),
    counterattack: parseCounterattack('1d8 damage'),
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: false, requiresPermission: false },
  },
  {
    id: 'force_4_postech_infantry',
    name: 'Postech Infantry',
    category: 'Force',
    requiredRating: 4,
    hp: 12,
    cost: 8,
    techLevel: 4,
    type: 'Military Unit',
    attack: parseAttackPattern('Force vs. Force, 1d8 damage'),
    counterattack: parseCounterattack('1d8 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: false, requiresPermission: true },
  },
  // Force 5
  {
    id: 'force_5_blockade_fleet',
    name: 'Blockade Fleet',
    category: 'Force',
    requiredRating: 5,
    hp: 8,
    cost: 10,
    techLevel: 4,
    type: 'Starship',
    attack: parseAttackPattern('Force vs. Wealth, 1d6 damage'),
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: true, requiresPermission: false },
  },
  {
    id: 'force_5_pretech_logistics',
    name: 'Pretech Logistics',
    category: 'Force',
    requiredRating: 5,
    hp: 6,
    cost: 14,
    techLevel: 0,
    type: 'Facility',
    attack: null,
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: false, requiresPermission: false },
  },
  {
    id: 'force_5_psychic_assassins',
    name: 'Psychic Assassins',
    category: 'Force',
    requiredRating: 5,
    hp: 4,
    cost: 12,
    techLevel: 4,
    type: 'Special Forces',
    attack: parseAttackPattern('Cunning vs. Cunning, 2d6+2 damage'),
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  // Force 6
  {
    id: 'force_6_pretech_infantry',
    name: 'Pretech Infantry',
    category: 'Force',
    requiredRating: 6,
    hp: 16,
    cost: 20,
    techLevel: 5,
    type: 'Military Unit',
    attack: parseAttackPattern('Force vs. Force, 2d8 damage'),
    counterattack: parseCounterattack('2d8+2 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: false, requiresPermission: true },
  },
  {
    id: 'force_6_planetary_defenses',
    name: 'Planetary Defenses',
    category: 'Force',
    requiredRating: 6,
    hp: 20,
    cost: 18,
    techLevel: 4,
    type: 'Facility',
    attack: null,
    counterattack: parseCounterattack('2d6+6 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  {
    id: 'force_6_gravtank_formation',
    name: 'Gravtank Formation',
    category: 'Force',
    requiredRating: 6,
    hp: 14,
    cost: 25,
    techLevel: 4,
    type: 'Military Unit',
    attack: parseAttackPattern('Force vs. Force, 2d10+4 damage'),
    counterattack: parseCounterattack('1d10 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: false, requiresPermission: true },
  },
  // Force 7
  {
    id: 'force_7_deep_strike_landers',
    name: 'Deep Strike Landers',
    category: 'Force',
    requiredRating: 7,
    hp: 10,
    cost: 25,
    techLevel: 4,
    type: 'Facility',
    attack: null,
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: false, requiresPermission: false },
  },
  {
    id: 'force_7_integral_protocols',
    name: 'Integral Protocols',
    category: 'Force',
    requiredRating: 7,
    hp: 10,
    cost: 20,
    techLevel: 5,
    type: 'Facility',
    attack: null,
    counterattack: parseCounterattack('2d8+2 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  {
    id: 'force_7_space_marines',
    name: 'Space Marines',
    category: 'Force',
    requiredRating: 7,
    hp: 16,
    cost: 30,
    techLevel: 4,
    type: 'Military Unit',
    attack: parseAttackPattern('Force vs. Force, 2d8+2 damage'),
    counterattack: parseCounterattack('2d8 damage'),
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: false, requiresPermission: false },
  },
  // Force 8
  {
    id: 'force_8_capital_fleet',
    name: 'Capital Fleet',
    category: 'Force',
    requiredRating: 8,
    hp: 30,
    cost: 40,
    techLevel: 4,
    type: 'Starship',
    attack: parseAttackPattern('Force vs. Force, 3d10+4 damage'),
    counterattack: parseCounterattack('3d8 damage'),
    maintenance: 2,
    specialFlags: { hasAction: true, hasSpecial: true, requiresPermission: false },
  },
];

// CUNNING ASSETS
const cunningAssets: AssetDefinition[] = [
  // Cunning 1
  {
    id: 'cunning_1_smugglers',
    name: 'Smugglers',
    category: 'Cunning',
    requiredRating: 1,
    hp: 4,
    cost: 2,
    techLevel: 4,
    type: 'Starship',
    attack: parseAttackPattern('Cunning vs. Wealth, 1d4 damage'),
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: false, requiresPermission: false },
  },
  {
    id: 'cunning_1_informers',
    name: 'Informers',
    category: 'Cunning',
    requiredRating: 1,
    hp: 3,
    cost: 2,
    techLevel: 0,
    type: 'Special Forces',
    attack: parseAttackPattern('Cunning vs. Cunning, special'),
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: true, requiresPermission: false },
  },
  {
    id: 'cunning_1_false_front',
    name: 'False Front',
    category: 'Cunning',
    requiredRating: 1,
    hp: 2,
    cost: 1,
    techLevel: 0,
    type: 'Logistics Facility',
    attack: null,
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  // Cunning 2
  {
    id: 'cunning_2_lobbyists',
    name: 'Lobbyists',
    category: 'Cunning',
    requiredRating: 2,
    hp: 4,
    cost: 4,
    techLevel: 0,
    type: 'Special Forces',
    attack: parseAttackPattern('Cunning vs. Cunning, special'),
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  {
    id: 'cunning_2_saboteurs',
    name: 'Saboteurs',
    category: 'Cunning',
    requiredRating: 2,
    hp: 6,
    cost: 5,
    techLevel: 0,
    type: 'Special Forces',
    attack: parseAttackPattern('Cunning vs. Cunning, 2d4 damage'),
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  {
    id: 'cunning_2_blackmail',
    name: 'Blackmail',
    category: 'Cunning',
    requiredRating: 2,
    hp: 4,
    cost: 4,
    techLevel: 0,
    type: 'Tactic',
    attack: parseAttackPattern('Cunning vs. Cunning, 1d4+1 damage'),
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  {
    id: 'cunning_2_seductress',
    name: 'Seductress',
    category: 'Cunning',
    requiredRating: 2,
    hp: 4,
    cost: 4,
    techLevel: 0,
    type: 'Special Forces',
    attack: parseAttackPattern('Cunning vs. Cunning, special'),
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: true, requiresPermission: false },
  },
  // Cunning 3
  {
    id: 'cunning_3_cyberninjas',
    name: 'Cyberninjas',
    category: 'Cunning',
    requiredRating: 3,
    hp: 4,
    cost: 6,
    techLevel: 4,
    type: 'Special Forces',
    attack: parseAttackPattern('Cunning vs. Cunning, 2d6 damage'),
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: false, requiresPermission: false },
  },
  {
    id: 'cunning_3_covert_shipping',
    name: 'Covert Shipping',
    category: 'Cunning',
    requiredRating: 3,
    hp: 4,
    cost: 8,
    techLevel: 4,
    type: 'Logistics Facility',
    attack: null,
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: true, requiresPermission: false },
  },
  // Cunning 4
  {
    id: 'cunning_4_party_machine',
    name: 'Party Machine',
    category: 'Cunning',
    requiredRating: 4,
    hp: 10,
    cost: 8,
    techLevel: 0,
    type: 'Logistics Facility',
    attack: parseAttackPattern('Cunning vs. Cunning, 2d6 damage'),
    counterattack: parseCounterattack('1d6 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  {
    id: 'cunning_4_vanguard_cadres',
    name: 'Vanguard Cadres',
    category: 'Cunning',
    requiredRating: 4,
    hp: 12,
    cost: 8,
    techLevel: 3,
    type: 'Military Unit',
    attack: parseAttackPattern('Cunning vs. Cunning, 1d6 damage'),
    counterattack: parseCounterattack('1d6 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: false, requiresPermission: false },
  },
  {
    id: 'cunning_4_tripwire_cells',
    name: 'Tripwire Cells',
    category: 'Cunning',
    requiredRating: 4,
    hp: 8,
    cost: 12,
    techLevel: 4,
    type: 'Special Forces',
    attack: null,
    counterattack: parseCounterattack('1d4 damage'),
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: true, requiresPermission: false },
  },
  {
    id: 'cunning_4_seditionists',
    name: 'Seditionists',
    category: 'Cunning',
    requiredRating: 4,
    hp: 8,
    cost: 12,
    techLevel: 0,
    type: 'Special Forces',
    attack: null,
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: false, requiresPermission: false },
  },
  // Cunning 5
  {
    id: 'cunning_5_organization_moles',
    name: 'Organization Moles',
    category: 'Cunning',
    requiredRating: 5,
    hp: 8,
    cost: 10,
    techLevel: 0,
    type: 'Tactic',
    attack: parseAttackPattern('Cunning vs. Cunning, 2d6 damage'),
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: false, requiresPermission: false },
  },
  {
    id: 'cunning_5_cracked_comms',
    name: 'Cracked Comms',
    category: 'Cunning',
    requiredRating: 5,
    hp: 6,
    cost: 14,
    techLevel: 0,
    type: 'Tactic',
    attack: null,
    counterattack: parseCounterattack('Special'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  {
    id: 'cunning_5_boltholes',
    name: 'Boltholes',
    category: 'Cunning',
    requiredRating: 5,
    hp: 6,
    cost: 12,
    techLevel: 4,
    type: 'Logistics Facility',
    attack: null,
    counterattack: parseCounterattack('2d6 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  // Cunning 6
  {
    id: 'cunning_6_transport_lockdown',
    name: 'Transport Lockdown',
    category: 'Cunning',
    requiredRating: 6,
    hp: 10,
    cost: 20,
    techLevel: 4,
    type: 'Tactic',
    attack: parseAttackPattern('Cunning vs. Cunning, special'),
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  {
    id: 'cunning_6_covert_transit_net',
    name: 'Covert Transit Net',
    category: 'Cunning',
    requiredRating: 6,
    hp: 15,
    cost: 18,
    techLevel: 4,
    type: 'Logistics Facility',
    attack: null,
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: false, requiresPermission: false },
  },
  {
    id: 'cunning_6_demagogue',
    name: 'Demagogue',
    category: 'Cunning',
    requiredRating: 6,
    hp: 10,
    cost: 20,
    techLevel: 0,
    type: 'Special Forces',
    attack: parseAttackPattern('Cunning vs. Cunning, 2d8 damage'),
    counterattack: parseCounterattack('1d8 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: false, requiresPermission: false },
  },
  // Cunning 7
  {
    id: 'cunning_7_popular_movement',
    name: 'Popular Movement',
    category: 'Cunning',
    requiredRating: 7,
    hp: 16,
    cost: 25,
    techLevel: 4,
    type: 'Tactic',
    attack: parseAttackPattern('Cunning vs. Cunning, 2d6 damage'),
    counterattack: parseCounterattack('1d6 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  {
    id: 'cunning_7_book_of_secrets',
    name: 'Book of Secrets',
    category: 'Cunning',
    requiredRating: 7,
    hp: 10,
    cost: 20,
    techLevel: 4,
    type: 'Tactic',
    attack: null,
    counterattack: parseCounterattack('2d8 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  {
    id: 'cunning_7_treachery',
    name: 'Treachery',
    category: 'Cunning',
    requiredRating: 7,
    hp: 5,
    cost: 10,
    techLevel: 0,
    type: 'Tactic',
    attack: parseAttackPattern('Cunning vs. Cunning, Special'),
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  // Cunning 8
  {
    id: 'cunning_8_panopticon_matrix',
    name: 'Panopticon Matrix',
    category: 'Cunning',
    requiredRating: 8,
    hp: 20,
    cost: 30,
    techLevel: 5,
    type: 'Logistics Facility',
    attack: null,
    counterattack: parseCounterattack('1d6 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
];

// WEALTH ASSETS
const wealthAssets: AssetDefinition[] = [
  // Wealth 1
  {
    id: 'wealth_1_franchise',
    name: 'Franchise',
    category: 'Wealth',
    requiredRating: 1,
    hp: 3,
    cost: 2,
    techLevel: 2,
    type: 'Facility',
    attack: parseAttackPattern('Wealth vs. Wealth, 1d4 damage'),
    counterattack: parseCounterattack('1d4-1 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  {
    id: 'wealth_1_harvesters',
    name: 'Harvesters',
    category: 'Wealth',
    requiredRating: 1,
    hp: 4,
    cost: 2,
    techLevel: 0,
    type: 'Facility',
    attack: null,
    counterattack: parseCounterattack('1d4 damage'),
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: false, requiresPermission: false },
  },
  {
    id: 'wealth_1_local_investments',
    name: 'Local Investments',
    category: 'Wealth',
    requiredRating: 1,
    hp: 2,
    cost: 1,
    techLevel: 2,
    type: 'Facility',
    attack: parseAttackPattern('Wealth vs. Wealth, 1d4-1 damage'),
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  // Wealth 2
  {
    id: 'wealth_2_freighter_contract',
    name: 'Freighter Contract',
    category: 'Wealth',
    requiredRating: 2,
    hp: 4,
    cost: 5,
    techLevel: 4,
    type: 'Starship',
    attack: parseAttackPattern('Wealth vs. Wealth, 1d4 damage'),
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: false, requiresPermission: false },
  },
  {
    id: 'wealth_2_lawyers',
    name: 'Lawyers',
    category: 'Wealth',
    requiredRating: 2,
    hp: 4,
    cost: 6,
    techLevel: 0,
    type: 'Special Forces',
    attack: parseAttackPattern('Cunning vs. Wealth, 2d4 damage'),
    counterattack: parseCounterattack('1d6 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  {
    id: 'wealth_2_union_toughs',
    name: 'Union Toughs',
    category: 'Wealth',
    requiredRating: 2,
    hp: 6,
    cost: 4,
    techLevel: 0,
    type: 'Military Unit',
    attack: parseAttackPattern('Wealth vs. Force, 1d4+1 damage'),
    counterattack: parseCounterattack('1d4 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: false, requiresPermission: false },
  },
  {
    id: 'wealth_2_surveyors',
    name: 'Surveyors',
    category: 'Wealth',
    requiredRating: 2,
    hp: 4,
    cost: 4,
    techLevel: 4,
    type: 'Special Forces',
    attack: null,
    counterattack: parseCounterattack('1d4 damage'),
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: true, requiresPermission: false },
  },
  // Wealth 3
  {
    id: 'wealth_3_postech_industry',
    name: 'Postech Industry',
    category: 'Wealth',
    requiredRating: 3,
    hp: 4,
    cost: 8,
    techLevel: 4,
    type: 'Facility',
    attack: null,
    counterattack: parseCounterattack('1d4 damage'),
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: false, requiresPermission: false },
  },
  {
    id: 'wealth_3_laboratory',
    name: 'Laboratory',
    category: 'Wealth',
    requiredRating: 3,
    hp: 4,
    cost: 6,
    techLevel: 0,
    type: 'Facility',
    attack: null,
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  {
    id: 'wealth_3_mercenaries',
    name: 'Mercenaries',
    category: 'Wealth',
    requiredRating: 3,
    hp: 6,
    cost: 8,
    techLevel: 4,
    type: 'Military Unit',
    attack: parseAttackPattern('Wealth vs. Force, 2d4+2 damage'),
    counterattack: parseCounterattack('1d6 damage'),
    maintenance: 1,
    specialFlags: { hasAction: true, hasSpecial: true, requiresPermission: true },
  },
  // Wealth 4
  {
    id: 'wealth_4_shipping_combine',
    name: 'Shipping Combine',
    category: 'Wealth',
    requiredRating: 4,
    hp: 10,
    cost: 10,
    techLevel: 4,
    type: 'Facility',
    attack: null,
    counterattack: parseCounterattack('1d6 damage'),
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: false, requiresPermission: false },
  },
  {
    id: 'wealth_4_monopoly',
    name: 'Monopoly',
    category: 'Wealth',
    requiredRating: 4,
    hp: 12,
    cost: 8,
    techLevel: 3,
    type: 'Facility',
    attack: parseAttackPattern('Wealth vs. Wealth, 1d6 damage'),
    counterattack: parseCounterattack('1d6 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  {
    id: 'wealth_4_medical_center',
    name: 'Medical Center',
    category: 'Wealth',
    requiredRating: 4,
    hp: 8,
    cost: 12,
    techLevel: 4,
    type: 'Facility',
    attack: null,
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  {
    id: 'wealth_4_bank',
    name: 'Bank',
    category: 'Wealth',
    requiredRating: 4,
    hp: 8,
    cost: 12,
    techLevel: 3,
    type: 'Facility',
    attack: null,
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  // Wealth 5
  {
    id: 'wealth_5_marketers',
    name: 'Marketers',
    category: 'Wealth',
    requiredRating: 5,
    hp: 8,
    cost: 10,
    techLevel: 0,
    type: 'Tactic',
    attack: parseAttackPattern('Cunning vs. Wealth, 1d6 damage'),
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: false, requiresPermission: false },
  },
  {
    id: 'wealth_5_pretech_researchers',
    name: 'Pretech Researchers',
    category: 'Wealth',
    requiredRating: 5,
    hp: 6,
    cost: 14,
    techLevel: 4,
    type: 'Special Forces',
    attack: null,
    counterattack: null,
    maintenance: 1,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  {
    id: 'wealth_5_blockade_runners',
    name: 'Blockade Runners',
    category: 'Wealth',
    requiredRating: 5,
    hp: 6,
    cost: 12,
    techLevel: 4,
    type: 'Starship',
    attack: null,
    counterattack: parseCounterattack('2d4 damage'),
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: false, requiresPermission: false },
  },
  // Wealth 6
  {
    id: 'wealth_6_venture_capital',
    name: 'Venture Capital',
    category: 'Wealth',
    requiredRating: 6,
    hp: 10,
    cost: 15,
    techLevel: 4,
    type: 'Facility',
    attack: parseAttackPattern('Wealth vs. Wealth, 2d6 damage'),
    counterattack: parseCounterattack('1d6 damage'),
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: false, requiresPermission: false },
  },
  {
    id: 'wealth_6_rd_department',
    name: 'R&D Department',
    category: 'Wealth',
    requiredRating: 6,
    hp: 15,
    cost: 18,
    techLevel: 4,
    type: 'Facility',
    attack: null,
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  {
    id: 'wealth_6_commodities_broker',
    name: 'Commodities Broker',
    category: 'Wealth',
    requiredRating: 6,
    hp: 10,
    cost: 20,
    techLevel: 0,
    type: 'Special Forces',
    attack: parseAttackPattern('Wealth vs. Wealth, 2d8 damage'),
    counterattack: parseCounterattack('1d8 damage'),
    maintenance: 0,
    specialFlags: { hasAction: true, hasSpecial: false, requiresPermission: false },
  },
  // Wealth 7
  {
    id: 'wealth_7_pretech_manufactory',
    name: 'Pretech Manufactory',
    category: 'Wealth',
    requiredRating: 7,
    hp: 16,
    cost: 25,
    techLevel: 5,
    type: 'Facility',
    attack: null,
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  {
    id: 'wealth_7_hostile_takeover',
    name: 'Hostile Takeover',
    category: 'Wealth',
    requiredRating: 7,
    hp: 10,
    cost: 20,
    techLevel: 4,
    type: 'Tactic',
    attack: parseAttackPattern('Wealth vs. Wealth, 2d10 damage'),
    counterattack: parseCounterattack('2d8 damage'),
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  {
    id: 'wealth_7_transit_web',
    name: 'Transit Web',
    category: 'Wealth',
    requiredRating: 7,
    hp: 5,
    cost: 15,
    techLevel: 5,
    type: 'Facility',
    attack: parseAttackPattern('Cunning vs. Cunning, 1d12 damage'),
    counterattack: null,
    maintenance: 0,
    specialFlags: { hasAction: false, hasSpecial: true, requiresPermission: false },
  },
  // Wealth 8
  {
    id: 'wealth_8_scavenger_fleet',
    name: 'Scavenger Fleet',
    category: 'Wealth',
    requiredRating: 8,
    hp: 20,
    cost: 30,
    techLevel: 5,
    type: 'Starship',
    attack: parseAttackPattern('Wealth vs. Wealth, 2d10+4 damage'),
    counterattack: parseCounterattack('2d10 damage'),
    maintenance: 2,
    specialFlags: { hasAction: true, hasSpecial: false, requiresPermission: false },
  },
];

// Combine all assets into a single library
export const assetLibrary: AssetDefinition[] = [
  ...forceAssets,
  ...cunningAssets,
  ...wealthAssets,
];

// Helper functions to query the asset library
export function getAssetById(id: string): AssetDefinition | undefined {
  // Handle special Base of Influence identifier
  if (id === 'base_of_influence') {
    return {
      id: 'base_of_influence',
      name: 'Base of Influence',
      category: 'Cunning', // Base of Influence appears in Cunning assets list in SWN
      requiredRating: 0, // No rating requirement
      hp: 0, // HP is set dynamically when created
      cost: 0, // Cost is calculated as 1 FacCred per HP
      techLevel: 0,
      type: 'Special',
      attack: null,
      counterattack: null,
      maintenance: 0,
      specialFlags: {
        hasAction: false,
        hasSpecial: true,
        requiresPermission: false,
      },
      description: 'A Base of Influence represents a faction\'s foothold on a world. Required to purchase assets on that world.',
    };
  }
  return assetLibrary.find((asset) => asset.id === id);
}

export function getAssetsByCategory(category: AssetCategory): AssetDefinition[] {
  return assetLibrary.filter((asset) => asset.category === category);
}

export function getAssetsByRating(
  category: AssetCategory,
  rating: number,
): AssetDefinition[] {
  return assetLibrary.filter(
    (asset) => asset.category === category && asset.requiredRating <= rating,
  );
}

export function getAllAssetsForFaction(
  force: number,
  cunning: number,
  wealth: number,
): AssetDefinition[] {
  return assetLibrary.filter((asset) => {
    switch (asset.category) {
      case 'Force':
        return asset.requiredRating <= force;
      case 'Cunning':
        return asset.requiredRating <= cunning;
      case 'Wealth':
        return asset.requiredRating <= wealth;
      default:
        return false;
    }
  });
}



