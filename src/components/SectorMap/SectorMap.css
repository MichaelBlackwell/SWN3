/* Sector Map Component Styles */

.sector-map-container {
  width: 100%;
  height: 100%;
  flex: 1 1 auto;
  min-height: 0;
  overflow: hidden;
  background: radial-gradient(ellipse at 30% 20%, rgba(15, 10, 35, 1) 0%, rgba(5, 5, 15, 1) 100%);
  position: relative;
  outline: none;
}

.sector-map-container svg {
  display: block;
  width: 100%;
  height: 100%;
  min-height: 100%;
  max-height: none;
  will-change: transform;
}

/* ============================================
   Parallax Starfield Background Layers
   ============================================ */

/* Deep space star layer - slowest parallax */
.starfield-layer-deep {
  pointer-events: none;
  will-change: transform;
}

/* Medium distance stars */
.starfield-layer-medium {
  pointer-events: none;
  will-change: transform;
}

/* Close/bright stars - fastest parallax */
.starfield-layer-close {
  pointer-events: none;
  will-change: transform;
}

/* Twinkling animation for stars */
@keyframes starTwinkle {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

@keyframes starTwinkleSlow {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 0.8; }
}

@keyframes starTwinkleFast {
  0%, 100% { opacity: 0.7; }
  25% { opacity: 1; }
  75% { opacity: 0.5; }
}

/* ============================================
   Valid Destination Highlighting (Movement Mode)
   ============================================ */

/* Pulsing outer glow ring */
.valid-destination-glow {
  animation: validDestinationPulse 1.8s ease-in-out infinite;
  pointer-events: none;
}

/* Expanding ripple effect */
.valid-destination-ripple {
  animation: validDestinationRipple 2.4s ease-out infinite;
  pointer-events: none;
}

/* Inner beacon ring */
.valid-destination-beacon {
  animation: validDestinationBeacon 1.2s ease-in-out infinite alternate;
  pointer-events: none;
}

/* Marker group in movement mode */
.system-marker-group.valid-destination {
  cursor: pointer !important;
}

.system-marker-group.valid-destination .system-marker-base {
  cursor: pointer !important;
}

/* Dim non-valid destinations when in movement mode */
.sector-map-container.movement-mode-active .system-marker-group:not(.valid-destination):not(.current-location) {
  opacity: 0.35;
  filter: grayscale(0.6);
  transition: opacity 0.3s ease, filter 0.3s ease;
}

/* Current location styling */
.system-marker-group.current-location {
  opacity: 0.5;
}

/* Keyframe animations */
@keyframes validDestinationPulse {
  0%, 100% {
    opacity: 0.7;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.08);
  }
}

@keyframes validDestinationRipple {
  0% {
    opacity: 0.6;
    transform: scale(1);
  }
  70% {
    opacity: 0;
    transform: scale(2.2);
  }
  100% {
    opacity: 0;
    transform: scale(2.2);
  }
}

@keyframes validDestinationBeacon {
  0% {
    opacity: 0.5;
  }
  100% {
    opacity: 1;
  }
}

/* ============================================
   Routes & Trade Lane Styling
   ============================================ */

.route-line {
  fill: none;
  stroke-linecap: round;
  transition: stroke 0.3s ease, opacity 0.3s ease;
}

.route-line--regular {
  stroke: rgba(90, 150, 255, 0.65);
  stroke-width: 1.5px;
  stroke-dasharray: 3 13;
  animation: routeTrailFlow linear infinite;
  animation-duration: var(--route-speed, 8s);
  /* Removed drop-shadow filter for performance */
  mix-blend-mode: screen;
}

.route-line--regular:hover {
  stroke: rgba(140, 200, 255, 0.95);
  /* Kept filter on hover only */
  filter: drop-shadow(0 0 8px rgba(140, 200, 255, 0.7));
}

.trade-route-glow {
  stroke: rgba(255, 140, 54, 0.28);
  stroke-width: 11px;
  animation: tradePulseGlow ease-in-out infinite;
  animation-duration: var(--route-speed, 4s);
  mix-blend-mode: screen;
}

.trade-route-core {
  stroke-width: 4px;
  stroke-dasharray: 26 18;
  animation: tradeConvoyFlow linear infinite;
  animation-duration: var(--route-speed, 3s);
  /* Removed drop-shadow filter, relying on glow line */
}

.trade-route-convoy {
  stroke: rgba(255, 225, 190, 0.95);
  stroke-width: 3px;
  stroke-dasharray: 18 22;
  animation: tradeConvoyFlow linear infinite;
  animation-duration: calc(var(--route-speed, 3s) * 0.75);
  opacity: 0.85;
  mix-blend-mode: screen;
}

.trade-route-sparks {
  stroke: rgba(255, 255, 255, 0.95);
  stroke-width: 1.6px;
  stroke-dasharray: 2 32;
  animation: tradeSparkFlow linear infinite;
  animation-duration: calc(var(--route-speed, 3s) * 0.45);
  mix-blend-mode: screen;
  opacity: 0.85;
}

@keyframes routeTrailFlow {
  0% {
    stroke-dashoffset: 0;
    opacity: 0.65;
  }
  50% {
    opacity: 0.9;
  }
  100% {
    stroke-dashoffset: -140;
    opacity: 0.65;
  }
}

@keyframes tradeConvoyFlow {
  0% {
    stroke-dashoffset: 0;
  }
  100% {
    stroke-dashoffset: -320;
  }
}

@keyframes tradeSparkFlow {
  0% {
    stroke-dashoffset: 0;
    opacity: 0.9;
  }
  100% {
    stroke-dashoffset: -120;
    opacity: 0.2;
  }
}

@keyframes tradePulseGlow {
  0% {
    opacity: 0.3;
  }
  50% {
    opacity: 0.85;
  }
  100% {
    opacity: 0.3;
  }
}

